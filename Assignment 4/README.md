# Group 01 
### Use case: Construction / Cost
#### Primary instructions
The Python modules `shapely` and `ifcopenshell` are used to parse the IFC model. *Node.js* also needs to be installed. When in the root directory, run 
`npm install express`.

To start the tool, run the Python-script `main.py`. This will parse the IFC model found in the subfolder "model". If more than one model is present in the folder, the first model, ordered alphabetically, will be parsed.

This will export a JSON file `data.json` and mulitple .svg-files (one pr. floor) to the folder "output". When this file is succesfully saved, `node server.js` may be run in the command line, after which the main GUI can be accessed at `http://localhost:3000`.

In case of issues with the dependencies or Node, below is a video which showcases the main functionality of the program.

[![Demonstration of CalStruct](https://img.youtube.com/vi/emO_JC1hGnY/0.jpg)](https://www.youtube.com/watch?v=emO_JC1hGnY)


#### Changes
There is no longer any static HTML and `index.html` only contains the basic structure for the website. The input table is generated by JavaScript at run-time and all SVG-related entities are accessed from the files. Furthermode, *Node.js* and the JavaScript framework *Express* is used to simulate a more realistic web-based development, which would be needed anyways in order to establish a proper Speckle link (see next section).

#### Future work
The IFC data itself is still static (in form of the JSON data). The plan was to establish a connection to a Speckle stream at run-time and have this be the main data source. We ran into some issues when trying to do this (see thread in Speckle forums https://speckle.community/t/reading-speckle-stream-from-javascript/4145), but further conversation with a Speckle employee ensured that this would be doable using Speckle's GraphQL API. There are two main benefits of using Speckle as opposed to a static data source: the data is available for everyone associated with the construction project, and throughout the project lifecycle, version history of the data is preserved, allowing for documentation of all the design iterations.


 Instead of manually drawing the SVG objects, it would also be beneficial to utilize a pre-made library/framework like *IFC.js*, *Three.js* or maybe even *SVG.js*.


#### Current BPMN chart
<img src=" diagrams/current.svg ">

#### Proposed BPMN chart
<img src=" diagrams/proposed.svg ">